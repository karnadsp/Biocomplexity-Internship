{
  "timestamp": "2025-06-18T02:35:58.155154",
  "step": "cc3d_file_creation",
  "input": {
    "python_code": "from cc3d.core.PySteppables import *\n\nfrom CompuCell3D import CompuCellSetup\nfrom steppables import *\nimport numpy as np\n\nclass EpithelialProliferationSimulation(SteppableBasePy):\n    def __init__(self, _simulator, _numEpithelialCells):\n        SteppableBasePy.__init__(self, _simulator)\n        self.numEpithelialCells = _numEpithelialCells\n        self.epithelialCellId = 0\n        self.cellDivisionTimer = 0\n        self.cellDivisionInterval = 100  # Adjust this value to control division frequency\n\n    def start(self):\n        # Initialize the simulation with epithelial cells\n        self.cellField = self.simulator.get_cell_field()\n        self.lattice = self.simulator.get_lattice()\n        \n        # Create epithelial cells\n        for _ in range(self.numEpithelialCells):\n            cell = self.cellField.new_cell(self.epithelialCellId)\n            cell.type = self.epithelialCellType\n            cell.nucleus = 1  # Assign nucleus for mitosis\n            self.lattice.add_cell(cell)\n            self.epithelialCellId += 1\n\n    def step(self, mcs):\n        # Handle cell division\n        self.cellDivisionTimer += 1\n        if self.cellDivisionTimer >= self.cellDivisionInterval:\n            # Identify cells ready for division\n            cells_to_divide = []\n            for cell in self.cell_list:\n                if cell.type == self.epithelialCellType and cell.nucleus:\n                    cells_to_divide.append(cell)\n            \n            # Divide cells\n            if cells_to_divide:\n                mitosis_steppable = self.simulator.get_steppable(\"Mitosis\")\n                mitosis_steppable.divide_cells(cells_to_divide)\n                self.cellDivisionTimer = 0\n\n# Define cell types and parameters\ncell_type_dict = {\n    'Epithelial': {'type_id': 1, 'name': 'Epithelial', 'color': [255, 255, 255]}\n}\n\n# Initialize simulation\nsimulator = CompuCellSetup.Simulator()\nsimulator.init()\nsimulator.set_num_steps(1000)\nsimulator.set_output_frequency(100)\nsimulator.set_time_lapse_interval(1)\n\n# Register cell types\ncell_type_manager = simulator.get_cell_type_manager()\nfor cell_type in cell_type_dict.values():\n    cell_type_manager.register_cell_type(cell_type)\n\n# Add steppables\nsimulator.add_steppable(EpithelialProliferationSimulation(simulator, 10))\nsimulator.add_steppable(Mitosis(simulator))\n\n# Run simulation\nsimulator.run()"
  },
  "output": {
    "output_file": "experiments\\paper_07_Paper_7_0618_0234_run3\\generated_cc3d_model.cc3d"
  }
}